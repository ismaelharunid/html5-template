<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="your-github-username">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Calculator</title>
  </head>
  <body>
      <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="../index.html">Home</a></li>
              <li class="breadcrumb-item active" aria-current="page">Calculator</li>
            </ol>
          </nav>
        
        <p class="lead">Create a calculator. It should contain all ten numbers, 0 - 9, along with buttons to add, subtract, multiply, divide, and equal. There should be a display that updates as you click buttons.
                Your calculator should behave as much like a real calculator as possible. Calculations should continue until the equal key is clicked.                
        </p>
        <p><a href="https://getbootstrap.com/docs/4.3/getting-started/introduction/">The Bootstrap Documentation will be essential for successfully completing this project.</a></p>
        
        <form>
          <div class="row form-group">
            <div class="col-12">
                <input
                  type="text"
                  class="form-control text-right form-control-lg"
                  id="calcDisplay"
                  placeholder="0"
                  >
            </div>
          </div>
          <div class="row form-group">
            <div class="col-3">
              <button type="button" class="btn btn-info btn-lg btn-block" value="7">7</button>
            </div>
            <div class="col-3">
              <button type="button" class="btn btn-info btn-lg btn-block" value="8">8</button>
            </div>
            <div class="col-3">
              <button type="button" class="btn btn-info btn-lg btn-block" value="9">9</button>
            </div>
            <div class="col-3">
              <button type="button" class="btn btn-secondary btn-lg btn-block" value="plus">+</button>
            </div>
          </div>
          <div class="row form-group">
            <div class="col-3">
              <button type="button" class="btn btn-info btn-lg btn-block" value="4">4</button>
            </div>
            <div class="col-3">
              <button type="button" class="btn btn-info btn-lg btn-block" value="5">5</button>
            </div>
            <div class="col-3">
              <button type="button" class="btn btn-info btn-lg btn-block" value="6">6</button>
            </div>
            <div class="col-3">
              <button type="button" class="btn btn-secondary btn-lg btn-block" value="minus">-</button>
            </div>
          </div>
          <div class="row form-group">
            <div class="col-3">
              <button type="button" class="btn btn-info btn-lg btn-block" value="1">1</button>
            </div>
            <div class="col-3">
              <button type="button" class="btn btn-info btn-lg btn-block" value="2">2</button>
            </div>
            <div class="col-3">
              <button type="button" class="btn btn-info btn-lg btn-block" value="3">3</button>
            </div>
            <div class="col-3">
              <button type="button" class="btn btn-secondary btn-lg btn-block" value="multiply">x</button>
            </div>
          </div>
          <div class="row form-group">
            <div class="col-6">
              <button type="button" class="btn btn-info btn-lg btn-block" value="0">0</button>
            </div>
            <div class="col-3">
              <button type="button" class="btn btn-secondary btn-lg btn-block" value="decimal">.</button>
            </div>
            <div class="col-3">
              <button type="button" class="btn btn-secondary btn-lg btn-block" value="divide">&#247;</button>
            </div>
          </div>
          <div class="row form-group">
            <div class="col-6">
              <button type="button" class="btn btn-danger btn-lg btn-block" value="all-clear">AC</button>
            </div>
            <div class="col-6">
              <button type="button" class="btn btn-success btn-lg btn-block" value="equals">=</button>
            </div>
          </div>
        </form>
        
      </div>

    <!-- Optional JavaScript -->
    <script>
      // Make event listener for each button
      const buttons = document.getElementsByClassName('btn')
      const display = document.getElementById('calcDisplay')
      display.value = '0'

      let workingArray = []
      const characters = {
        'plus': '+',
        'minus': '-',
        'multiply': 'x',
        'divide': 'รท'
      }

      const dot = 'decimal'
      const ac = 'all-clear'
      const equals = 'equals'

      // Input is the value that was clicked.
      // displayValue is the value currently in the display, which is either a number or NaN
      function updateDisplay(input, displayValue) {
        const isNumber = input.length === 1

        // If displayValue resolves to NaN, displayHasNumber will be false
        const displayHasNumber = !isNaN(displayValue)
        
        // If input is a number AND either displayValue = 0 or displayHasNumber is false:
        // Display value of input
        if (isNumber && (displayValue == 0 || displayHasNumber === false)) {
          display.value = input
        }
        
        // If we have a number AND there is a value AND the value is a number:
        // Add input to the value of display (CONCATENATE)
        if (isNumber && displayValue != 0 && displayHasNumber) {
          display.value = display.value + input
        }

        // If we have an operation, clear the display and show our operation
        if (isNumber === false) {
          switch (input) {
            case dot:
              // If decimal point, update the existing number on the screen
              display.value = display.value + '.'
            break
            case ac:
              display.value = 0
            break
            case equals:
              display.value = '='
            break;
            default:
              display.value = null
              display.value = characters[input]
            break
          }
        }  
      }

      // Parse workingArray and perform calculations
      function findTotal() {
        // Set running total to the first number
        let runningTotal = workingArray[0]

        // Since we access the next index on every loop, it would be
        // useless to increment our index one at a time. Instead, we
        // increment by two.
        for (let i = 1; i < workingArray.length; i = i + 2) {
          nextIndex = i + 1
          switch (workingArray[i]) {
            case 'plus':
              runningTotal = runningTotal + workingArray[nextIndex]
            break
            case 'minus':
              runningTotal = runningTotal - workingArray[nextIndex]
            break
            case 'multiply':
              runningTotal = runningTotal * workingArray[nextIndex]
            break;
            case 'divide':
              runningTotal = runningTotal / workingArray[nextIndex]
            break;
          }
        }

        return runningTotal
      }

      for (i = 0; i < buttons.length; i++) {
        const currentButton = buttons[i]
        currentButton.addEventListener('click', event => {
          // Figure out the button that was clicked
          const input = currentButton.value
          const isNumber = input.length === 1
          
          // Use parseInt to convert the string to a numeric value
          const displayValue = display.value.includes('.') ? parseFloat(display.value) : parseInt(display.value, 10)
          
          updateDisplay(input, displayValue)

          if (isNumber === false) {
            switch (input) {
              case dot:
                // Do nothing
              break
              case ac:
                // If AC, delete working numbers array and update display
                workingArray = []
              break
              case equals:
                // If equals, run method to find final total
                workingArray.push(displayValue)
                const total = findTotal()
                workingArray = []
                display.value = total
              break
              default:
                // Add our finished number to our array of working numbers
                workingArray.push(displayValue)

                // Clear the display and add the operations character
                display.value = null
                display.value = characters[input]

                // Add our input to the workingArray
                workingArray.push(input)
              break
            }
          }       
        })
      }

    </script>
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>